:root {
  --primary-color: white;   /* the primary text color */
  --primary-color-shadow: #C8C8C8;
  --secondary-color: black; /* the background color */
  --secondary-color-shadow: #333; /* shadow for the secondary color */
  --accent-color: red;    /* accent color used to make elements pop */
  --accent-color-shadow: #e85a5a; /* shadow for the accent color */
}

/* Global styles */
body {  
  background-color: var(--secondary-color);
  background-image: radial-gradient(rgba(255, 255, 255, 0.25), var(--secondary-color) 120%); /* Sets the radial gradient background the sort of glow, shadown not a variable cause time constraints man don't want to break it*/
  font: 1.2rem monospace;
  color: var(--primary-color);
  text-shadow: 0 0 5px var(--primary-color-shadow); /* Glow effect */
  font-size: clamp(6px, 1.2vw, 18px); /* Responsive font size */

  filter: brightness(1);
  margin: 0;
  padding: 0;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;

  overflow-x: hidden;
  overflow-y: hidden;
  position: relative;
}

/* Add a scan line element that sits over the entire page */
body::after {
  content: "";
  position: fixed; /* Fixed to viewport to avoid scrolling offset */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* Full viewport */
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 2.5px,
    transparent 2.5px,
    transparent 5px
  );
  z-index: 9999;
}

/* Headings and text */
h3 {
    font-size: 1.6em;
    margin: 5px;
    color: var(--primary-color);
}

h4 {
    font-size: 1.4em;
    margin: 0;
    color: var(--primary-color);
}

p {
    font-size: 1.2em;
    margin: 0.5em;
    padding: 1px; 
}

table { 
    border-collapse: collapse; 
    width: 100%; 
    margin-top: 1em; 
    margin-left: auto;
    margin-right: auto;
}

td { 
    padding: 0.3em;
    text-align: left; 
    color: var(--primary-color);
}

th { 
    background-color: var(--primary-color); 
    padding: 0.3em; 
    text-align: left; 
    color: var(--secondary-color);
}

/* Form inputs and button */
input[type="text"], input[type="password"] {
    width: 100%;
    padding: 15px;
    border: 6px solid var(--primary-color);
    color: var(--primary-color);
    font-family: monospace;
    box-shadow: 0 0 5px var(--primary-color-shadow); /* Glow effect */
    margin-bottom: 0px;
    box-sizing: border-box;
    background-color: transparent;
    font-size: 1.5rem;
}

input.error {
    border-color: var(--accent-color);
}

.error-text {
    color: var(--accent-color);
    font-size: 0.9em;
    margin-bottom: 15px;
}

.full-button {
  all: unset; /* reset default button styles */
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  cursor: pointer;
  color: inherit; /* inherit text color from parent */
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  letter-spacing: inherit;
  writing-mode: inherit;  /* keeps vertical text orientation */
  text-orientation: inherit;
  background-color: transparent; /* keep background or set your own */
  border-radius: inherit;
  border: none;
  text-align: center;
  padding: 0;
  user-select: none;
  transition: background-color 0.3s, box-shadow 0.3s;
  font-size: 2em;
}

.full-button:hover,
.full-button:focus {
  background-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 10px white;
  outline: none;
}

.grid-wrapper {
  display: flex;
  justify-content: center;     /* center horizontally */
  align-items: center;         /* center vertically */
  position: relative;
  
  height: 100vh;               /* full screen height */
  width: 100%;                 /* full width */
  max-width: 100vw;             /* donâ€™t overflow horizontally */

  aspect-ratio: 16 / 9;        /* keep 16:9 shape */
  margin: 0 auto;              /* center horizontally if smaller */
  
  padding: 20px;               /* space from edges */
  box-sizing: border-box;      /* include padding in size */
}

.grid-container {
  display: grid;
  grid-template-columns: repeat(16, 1fr);
  grid-template-rows: repeat(9, 1fr);
  gap: 2.7vmin; /* space between cells, relative to the smallest screen dimension */

  width: 95%;
  max-width: 100vw;
  aspect-ratio: 16 / 9; /* keeps the shape */
}

/* Style for each cell */
.grid-box {
  container-type: inline-size;
  position: relative;
  /* Double border effect */
  border: 6px double var(--primary-color);
  box-shadow: 0 0 5px var(--primary-color-shadow); /* Glow effect */
  padding: 1vw;
  color: var(--primary-color);
  font-family: monospace;
}

.full-button-preparation{
  padding: 0px;
}

.big-red-button {
  border-color: var(--accent-color);          /* change border to red */
  color: var(--accent-color);                 /* text color */
  box-shadow: 0 0 5px var(--accent-color-shadow); /* Glow effect change because otherwise we would have a white glow for the red box */
  /* optionally background */
  background-color: rgba(255, 0, 0, 0.1); /* subtle red background */
  text-shadow: 0 0 5px var(--accent-color-shadow); /* Glow effect change because otherwise we would have a white glow for the red text*/
  /* The below lines are basically a repeat of whats found in the vertical text but put here so that we can have a diffrent font size for the big red button*/
  writing-mode: vertical-rl;
  text-orientation: upright;
  letter-spacing: 0.2em;
  white-space: nowrap;
  font-size: 0.9em; /* ðŸ”¹ Make text bigger */
  font-weight: bold; /* Optional: makes it stand out more */
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: clamp(2px, 0.8vw, 16px);
}

/* Title area overlay */
.titled {
  position: relative;
  display: inline-block; /* needed so ::before positions relative to this box */
}
.titled::before {
  content: attr(data-title); /* Pulls text from HTML attribute */
  position: absolute;
  top: -0.8em;
  left: 10px;
  background: var(--primary-color); /* Match your page bg so it 'cuts' the border */
  padding: 2px 5px;
  font-size: 0.9em;
  font-weight: bold;
  color: var(--secondary-color); /* text color */
  text-shadow: var(--secondary-color-shadow);
}

.vertical-text {
  writing-mode: vertical-rl;
  text-orientation: upright;
  letter-spacing: 0.2em;
  white-space: nowrap;
  font-size: 2em; /* Make text bigger */
  font-weight: bold; /* Optional: makes it stand out more */
  display: flex;
  justify-content: center;
  align-items: center;
}

.ascii-image {
  width: 100%;
  height: 100%;        /* fill parent */
  object-fit: fill;   /* scales to fill, cropping if necessary */
  filter: drop-shadow(0 0 5px var(--primary-color-shadow)); /* Glow effect */
}

/* Responsive design */
@media (orientation: portrait) {
    body {
        padding: 0;
        overflow-x: hidden;  /* hide sideways scroll */
        overflow-y: auto;    /* scroll vertically if content is taller */
    }

    .grid-wrapper {
        height: auto;
        width: 100vw;
        max-width: 100%;
        aspect-ratio: auto;   /* Override to prevent forcing 16:9 blank space */
        margin: 0;
        padding: 0;
        padding: 20px;
    }

    .grid-container {
        display: flex;
        flex-direction: column;
        align-items: stretch;  /* stretch children to full width */
        gap: 20px;
        width: 100vw;    /* full width of viewport */
        max-width: 100%;
    }

    .grid-box {
        width: 100%;     /* make each box fill the container width */
        padding: 15px;
        font-size: 1rem;
        box-sizing: border-box;
    }
    
    .vertical-text, .big-red-button{
        writing-mode: horizontal-tb;
        text-orientation: initial;
    }

    td, th {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;  /* Keep table neat */
    max-width: 1px;       /* Required for ellipsis in tables */
    }
}

/* Special rule for landscape screens to remedy weird behaviour at low heights*/
@media (orientation: landscape) and (min-aspect-ratio: 16/9){
  .grid-container {
    gap: 1.5vh;
  }

  .grid-box {
    text-overflow: ellipsis; /* "â€¦" if text too long */
    word-wrap: break-word;
    white-space: normal;
    border: 1vh double;
    padding: 2vh;
  }

  td, th {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;  /* Keep table neat */
    max-width: 1px;       /* Required for ellipsis in tables */
  }

  .grid-box p {
    word-break: break-word;
    white-space: normal;
    margin: 0.2vh;
    font-size: 2.3vh;
  }

  .grid-box table {
    table-layout: fixed; 
    width: 100%;
    height: 100%;          /* table fills full grid-box height */
    font-size: 1.9vh;      /* smaller text */
  }

  .grid-box td, 
  .grid-box th {
    padding: 0.2vh;
    white-space: nowrap;
  }

  .grid-box h3 {
    font-size: 2.5vh;
  }

  .grid-box h4 {
    font-size: 1.9vh;
  }

  .full-button {
    font-size: 2.5vh;
  }

  .titled::before {
    font-size: 2vh;;
  }

  .big-red-button{
    font-size: 1.5vh;
  }

  .full-button-preparation{
  padding: 0px;
  }

  input[type="text"], input[type="password"] {
    height: 30%;
    padding: 2vh;
    font-size: 2.5vh;
  }
}

@media (orientation: landscape) and (max-aspect-ratio: 16/9) { /* remedy behaviour not being consistend between wide and tall screens */
  .grid-container {
    gap: 1.2vw;
  }
  
  .grid-box {
    text-overflow: ellipsis; /* "â€¦" if text too long */
    word-wrap: break-word;
    white-space: normal;
    border: 0.5vw double;
  }

  td, th {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;  /* Keep table neat */
    max-width: 1px;       /* Required for ellipsis in tables */
  }

  /* Stats block text wrap */
  .grid-box p {
    word-break: break-word;
    white-space: normal;
    margin: 0.2vw;
    font-size: 1.2vw;
  }

  .grid-box table {
    table-layout: fixed; 
    width: 100%;
    height: 100%;          /* table fills full grid-box height */
    font-size: 0.9vw;      /* smaller text */
  }

  .grid-box td, 
  .grid-box th {
    padding: 0.2em;
    white-space: nowrap;
  }

  .grid-box h3 {
    font-size: 1.3vw;
  }

  .grid-box h4 {
    font-size: 1.05vw;
  }

  .full-button {
    font-size: 1.5vw;
  }

  .titled::before {
    font-size: 0.9vw;
  }

  .big-red-button{
    font-size: 0.8vw;
  }

  .full-button-preparation{
    padding: 0px;
  }

  input[type="text"], input[type="password"] {
    height: 30%;
    padding: 1.5vw;
    font-size: 1.5vw;
  }
}

/*The following code simulaters the scanline like the one you would see on a crt display*/
.vertical-scanline {
  pointer-events: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10000;
  background:
    linear-gradient(
      to top,
      rgba(255, 255, 255, 0.1) 0%,    /* brightest at the line */
      rgba(255, 255, 255, 0.05) 30%,    /* fade glow upward */
      transparent 100%                  /* fully transparent further up */
    ),
    rgba(255, 255, 255, 0);             /* no color below line */
  background-size: 100% 70px;
  background-repeat: no-repeat;

  animation: scanline-move 6s linear infinite;
  mix-blend-mode: screen;
}

@keyframes scanline-move {
  0% {
    transform: translateY(-20px);  /* start just above screen */
  }
  100% {
    transform: translateY(100vh);  /* move all the way down */
  }
}

.username {
  display: inline-block;       /* needed for width to apply */
  max-width: 70%;            /* adjust as needed */
  white-space: nowrap;         /* keep text on one line */
  overflow: hidden;            /* hide overflowing text */
  text-overflow: ellipsis;     /* show "..." */
  vertical-align: bottom;      /* keeps text aligned nicely */
}